import te from"./App-dead54de.js";import{r as u,T,O as se,o as i,c as a,a as e,w as oe,v as le,u as n,b as v,d as ne,F as j,e as F,t as l,f as m,g as V,h,n as x,i as O,j as ie}from"./app-a39c937f.js";import{d as ae}from"./debounce-c94e6f72.js";import{_ as re}from"./AlertModal-3dc931bd.js";import{u as de}from"./useAlertModal-0cf952b8.js";import{_ as N}from"./Modal-df1e3aae.js";import{_ as W}from"./FormInput-4b7fa008.js";import{_ as D}from"./FormToggleSwitch-09ca6891.js";import{P as ue}from"./Pagination-10a3ee54.js";import{t as z}from"./index-8758cb17.js";import"./Sidebar-8911f1a5.js";import"./Menu-ed0b9fc4.js";import"./ProfileModal-61a09d92.js";import"./FormPhoneInput-1c9c9926.js";/* empty css                      */import"./FormSelect-c7672027.js";import"./hidden-695af094.js";import"./use-text-value-d1d229e7.js";import"./transition-37a067aa.js";import"./micro-task-89dcd6af.js";import"./tabs-86fdd039.js";import"./LangToggle-edfcdcaa.js";import"./MobileSidebar-d784e66f.js";import"./index-80d9f634.js";/* empty css              */import"./_baseGetTag-fe27dbe8.js";import"./_plugin-vue_export-helper-c27b6911.js";const ce={class:"md:bg-white flex items-center border border-primary md:border-none md:shadow-sm h-12 md:h-10 w-full md:w-80 rounded-[0.5rem] mb-6 text-xl md:text-sm"},pe=["placeholder"],me={key:1,class:"pr-2"},ve={class:"grid md:grid-cols-3 gap-x-5 gap-y-4"},fe={class:"flex items-center gap-x-3 pb-2 bg-slate-50 px-4 pt-4 rounded-tr-[0.5rem] rounded-tl-[0.5rem]"},ge=["src"],be={class:"text-[16px]"},he={class:"text-slate-500 border-b px-4 text-xs pt-2 pb-4"},xe={class:"flex justify-between items-center px-4 pb-4 text-xs"},ye={key:0,class:"py-1 px-3 rounded-md text-slate-600 bg-red-600 text-white"},we={key:1,class:"py-1 px-3 rounded-md text-slate-600 bg-slate-50"},_e=["onClick"],ke=["onClick"],$e=["onClick"],Ce={class:"grid grid-cols-1 gap-x-6 gap-y-4"},Ve={class:"bg-slate-50 mx-[-30px] px-6 mt-[-25px] py-4 border-b"},Ae={class:"flex items-center gap-x-3"},Se=["src"],Me={class:"text-[16px]"},Te={class:"text-slate-500 font-light text-xs pt-4"},je={class:"grid gap-x-6 gap-y-4 sm:grid-cols-2"},Ne={key:1},Oe={class:"text-sm mb-2"},Ue={class:"text-sm mb-2"},Ze={key:0,class:"bg-orange-100 p-2 rounded-md shadow-sm mb-1 col-span-2"},Be={class:"flex items-center gap-x-1 border-b border-slate-500 pb-2 mb-2"},Le={class:"text-sm"},Ee={class:"text-sm leading-6 break-all"},Ie={class:"text-sm leading-6 break-all"},Fe={class:"mt-5 border-t pt-5 flex"},We=["disabled"],De={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},ze={key:1},Re={class:"grid grid-cols-1 gap-x-6 gap-y-4"},qe={class:"bg-slate-50 mx-[-30px] px-6 mt-[-25px] py-4 border-b"},Pe={class:"flex items-center gap-x-3"},Je=["src"],Ke={class:"text-[16px]"},Ye={class:"text-slate-500 font-light text-xs pt-4"},Ge={class:"grid gap-x-6 sm:grid-cols-2"},He={class:"text-sm"},Qe={class:"col-span-2 text-xs text-slate-600 mb-2"},Xe={class:"mt-5 border-t pt-5 flex"},et=["disabled"],tt={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},st={key:1},ot={class:"grid grid-cols-1 gap-x-6 gap-y-4"},lt={class:"bg-slate-50 mx-[-30px] px-6 mt-[-25px] py-4 border-b"},nt={class:"flex items-center gap-x-3"},it=["src"],at={class:"text-[16px]"},rt={class:"text-[17px] text-gray-800 mb-2"},dt={class:"text-sm"},ut={class:"mt-3 border-t pt-5 flex"},ct=["disabled"],pt={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},mt={key:1},vt={__name:"AddonTable",props:{rows:{type:Object,required:!0},filters:{type:Object},config:{type:Array}},emits:["edit","delete"],setup(f,{emit:A}){const y=f,{isOpenAlert:g,openAlert:yt,confirmAlert:R}=de(),k=u(!1),$=u(!1);u(!1);const q=u(window.location.origin),C=u(!1),P=T({test:null}),r=T({uuid:null,settings:{},is_active:null}),d=T({uuid:null,purchase_code:null,addon:null}),J=t=>{P.delete("/admin/faqs/"+t)},w=u({search:y.filters.search}),S=u(!1),K=()=>{w.value.search=null,Z()},U=ae(()=>{S.value=!0,Z()},1e3),Z=()=>{const t=window.location.pathname;se.visit(t,{method:"get",data:w.value})},B=u(null),b=u(null),p=u(null),_=u(null),L=u(null),E=u([]),Y=t=>{var c;b.value=t.logo,p.value=t.name,_.value=t.description;const o=((c=JSON.parse(t.metadata))==null?void 0:c.input_fields)||[];E.value=o,r.settings={};let s=p.value.toLowerCase().replace(/ /g,"-");B.value="/admin/addons/setup/"+s,r.is_active=t.is_active,r.uuid=t.uuid,o.forEach(M=>{r.settings[M.name]=I(M.name,M.element)}),k.value=!0},G=t=>{b.value=t.logo,p.value=t.name,_.value=t.description,d.uuid=t.uuid,d.addon=t.name,C.value=!0},H=(t,o)=>{b.value=t.logo,p.value=t.name,_.value=t.description,L.value=o=="extended"?z("Enter your extended license to install"):z("Enter the addon license to install"),d.uuid=t.uuid,d.addon=t.name,$.value=!0},I=(t,o=null)=>{const s=y.config.find(c=>c.key===t);return s?s.value:o=="toggle"?0:""},Q=()=>{r.post(B.value,{preserveScroll:!0,onSuccess:()=>{k.value=!1}})},X=()=>{d.post("/admin/addons/install",{preserveScroll:!0,onSuccess:()=>{$.value=!1}})},ee=()=>{d.post("/admin/addons/update/",{preserveScroll:!0,onSuccess:()=>{C.value=!1}})};return(t,o)=>(i(),a(j,null,[e("div",ce,[o[14]||(o[14]=e("span",{class:"pl-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m15 15l6 6m-11-4a7 7 0 1 1 0-14a7 7 0 0 1 0 14Z"})])],-1)),oe(e("input",{onInput:o[0]||(o[0]=(...s)=>n(U)&&n(U)(...s)),"onUpdate:modelValue":o[1]||(o[1]=s=>w.value.search=s),type:"text",class:"outline-none px-4 w-full",placeholder:t.$t("Search")},null,40,pe),[[le,w.value.search]]),S.value===!1&&w.value.search?(i(),a("button",{key:0,onClick:K,type:"button",class:"pr-2"},o[12]||(o[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2zm3.7 12.3c.4.4.4 1 0 1.4c-.4.4-1 .4-1.4 0L12 13.4l-2.3 2.3c-.4.4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4l2.3-2.3l-2.3-2.3c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0l2.3 2.3l2.3-2.3c.4-.4 1-.4 1.4 0c.4.4.4 1 0 1.4L13.4 12l2.3 2.3z"})],-1)]))):v("",!0),S.value?(i(),a("span",me,o[13]||(o[13]=[ne('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="0 12 12;90 12 12;180 12 12;270 12 12"></animateTransform><animate attributeName="opacity" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.2s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="30 12 12;120 12 12;210 12 12;300 12 12"></animateTransform><animate attributeName="opacity" begin="0.2s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.4s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="60 12 12;150 12 12;240 12 12;330 12 12"></animateTransform><animate attributeName="opacity" begin="0.4s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle></svg>',1)]))):v("",!0)]),e("div",ve,[(i(!0),a(j,null,F(f.rows.data,s=>(i(),a("div",{key:s.id,class:"bg-white rounded-[0.5rem] shadow-md text-sm space-y-3"},[e("div",fe,[e("div",null,[e("img",{class:"h-8 w-8",src:"/images/"+s.logo,alt:"Whatsapp Logo"},null,8,ge)]),e("div",be,l(t.$t(s.name)),1)]),e("div",he,l(s.description),1),e("div",xe,[e("div",null,[s.status==0?(i(),a("span",ye,l(t.$t("Not installed")),1)):s.status==1&&s.update_available==0?(i(),a("span",we,l(t.$t("Installed")),1)):s.status==1&&s.update_available==1?(i(),a("button",{key:2,onClick:c=>G(s),class:"py-1 px-3 rounded-md text-slate-600 bg-green-600 text-white"},l(t.$t("Update module")),9,_e)):v("",!0)]),e("div",null,[s.status==0?(i(),a("button",{key:0,onClick:c=>H(s,s.license),class:"rounded-full border-2 w-full px-10 py-2 hover:border-secondary hover:bg-secondary hover:text-white text-secondary"},l(t.$t("Install")),9,ke)):(i(),a("button",{key:1,onClick:c=>Y(s),class:"rounded-full border-2 w-full px-10 py-2 hover:border-secondary hover:bg-secondary hover:text-white text-secondary"},l(t.$t("Setup")),9,$e))])])]))),128))]),m(ue,{class:"mt-3",pagination:f.rows.meta},null,8,["pagination"]),m(N,{isOpen:k.value},{default:V(()=>[e("div",Ce,[e("div",Ve,[e("div",Ae,[e("div",null,[e("img",{class:"h-8 w-8",src:"/images/"+b.value,alt:"Whatsapp Logo"},null,8,Se)]),e("div",Me,l(t.$t(p.value)),1)]),e("div",Te,l(_.value),1)]),e("form",{onSubmit:o[4]||(o[4]=h(s=>Q(),["prevent"]))},[e("div",je,[(i(!0),a(j,null,F(E.value,s=>(i(),a("div",{class:x(s.class)},[s.element=="input"?(i(),O(W,{key:0,modelValue:n(r).settings[s.name],"onUpdate:modelValue":c=>n(r).settings[s.name]=c,error:n(r).errors[`settings.${s.name}`],name:t.$t(s.label),type:s.type,class:x(s.class)},null,8,["modelValue","onUpdate:modelValue","error","name","type","class"])):v("",!0),s.element=="toggle"?(i(),a("div",Ne,[e("div",Oe,l(t.$t(s.label)),1),s.element=="toggle"?(i(),O(D,{key:0,modelValue:n(r).settings[s.name],"onUpdate:modelValue":c=>n(r).settings[s.name]=c},null,8,["modelValue","onUpdate:modelValue"])):v("",!0)])):v("",!0)],2))),256)),e("div",null,[e("div",Ue,l(t.$t("Enable/disable addon")),1),m(D,{modelValue:n(r).is_active,"onUpdate:modelValue":o[2]||(o[2]=s=>n(r).is_active=s)},null,8,["modelValue"])]),p.value=="Embedded Signup"?(i(),a("div",Ze,[e("div",Be,[o[15]||(o[15]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("p",Le,l(t.$t("Webhook setup")),1)]),e("span",null,[e("p",Ee,l(t.$t("Callback URL"))+": "+l(q.value+"/webhook/waba"),1),e("p",Ie,l(t.$t("Verify token"))+": "+l(I("whatsapp_callback_token")),1)])])):v("",!0)]),e("div",Fe,[e("button",{type:"button",onClick:o[3]||(o[3]=h(s=>k.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},l(t.$t("Cancel")),1),e("button",{class:x(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":n(r).processing}]),disabled:n(r).processing},[n(r).processing?(i(),a("svg",De,o[16]||(o[16]=[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)]))):(i(),a("span",ze,l(t.$t("Save")),1))],10,We)])],32)])]),_:1},8,["isOpen"]),m(N,{isOpen:$.value},{default:V(()=>[e("div",Re,[e("div",qe,[e("div",Pe,[e("div",null,[e("img",{class:"h-8 w-8",src:"/images/"+b.value,alt:"Whatsapp Logo"},null,8,Je)]),e("div",Ke,l(t.$t(p.value)),1)]),e("div",Ye,l(_.value),1)]),e("form",{onSubmit:o[7]||(o[7]=h(s=>X(),["prevent"]))},[e("div",Ge,[e("h4",He,l(t.$t("Envato purchase code")),1),e("span",Qe,l(L.value),1),m(W,{modelValue:n(d).purchase_code,"onUpdate:modelValue":o[5]||(o[5]=s=>n(d).purchase_code=s),error:n(d).errors.purchase_code,name:"",type:"text",class:x("col-span-2")},null,8,["modelValue","error"])]),e("div",Xe,[e("button",{type:"button",onClick:o[6]||(o[6]=h(s=>$.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},l(t.$t("Cancel")),1),e("button",{class:x(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":n(d).processing}]),disabled:n(d).processing},[n(d).processing?(i(),a("svg",tt,o[17]||(o[17]=[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)]))):(i(),a("span",st,l(t.$t("Save")),1))],10,et)])],32)])]),_:1},8,["isOpen"]),m(N,{isOpen:C.value},{default:V(()=>[e("div",ot,[e("div",lt,[e("div",nt,[e("div",null,[e("img",{class:"h-8 w-8",src:"/images/"+b.value,alt:"Whatsapp Logo"},null,8,it)]),e("div",at,l(t.$t(p.value)),1)])]),e("form",{onSubmit:o[9]||(o[9]=h(s=>ee(),["prevent"]))},[e("div",null,[e("div",rt,l(t.$t("Update module")),1),e("h4",dt,l(t.$t("A new version is available. Would you like to proceed with updating the module?")),1)]),e("div",ut,[e("button",{type:"button",onClick:o[8]||(o[8]=h(s=>C.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},l(t.$t("No, not now")),1),e("button",{class:x(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":n(d).processing}]),disabled:n(d).processing},[n(d).processing?(i(),a("svg",pt,o[18]||(o[18]=[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)]))):(i(),a("span",mt,l(t.$t("Yes, run the update")),1))],10,ct)])],32)])]),_:1},8,["isOpen"]),m(re,{modelValue:n(g),"onUpdate:modelValue":o[10]||(o[10]=s=>ie(g)?g.value=s:null),onConfirm:o[11]||(o[11]=()=>n(R)(J)),label:t.$t("Delete row"),description:t.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},ft={class:"bg-white md:bg-inherit pt-10 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] h-full md:overflow-y-auto"},gt={class:"flex justify-between"},bt={class:"text-xl mb-1"},ht={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},xt={class:"ml-1 mt-1"},Kt={__name:"Index",props:{title:String,rows:Object,filters:Object,config:Array},setup(f){const A=f;return(y,g)=>(i(),O(te,null,{default:V(()=>[e("div",ft,[e("div",gt,[e("div",null,[e("h1",bt,l(y.$t("Explore Add-ons Marketplace")),1),e("p",ht,[g[0]||(g[0]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",xt,l(y.$t("Select an addon that you want to install on your platform")),1)])])]),m(vt,{rows:A.rows,filters:A.filters,config:f.config},null,8,["rows","filters","config"])])]),_:1}))}};export{Kt as default};
