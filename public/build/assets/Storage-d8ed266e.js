import{r as _,T as k,i as v,g as S,o as m,a as o,t as d,n,u as s,f as l,c as f,b as V,h}from"./app-a39c937f.js";import x from"./App-6bb12c29.js";import{_ as u}from"./FormInput-4b7fa008.js";import{_ as A}from"./FormSelect-c7672027.js";import"./App-dead54de.js";import"./Sidebar-8911f1a5.js";import"./Menu-ed0b9fc4.js";import"./ProfileModal-61a09d92.js";import"./FormPhoneInput-1c9c9926.js";/* empty css                      */import"./transition-37a067aa.js";import"./hidden-695af094.js";import"./use-text-value-d1d229e7.js";import"./micro-task-89dcd6af.js";import"./tabs-86fdd039.js";import"./LangToggle-edfcdcaa.js";import"./index-8758cb17.js";import"./MobileSidebar-d784e66f.js";import"./index-80d9f634.js";/* empty css              */import"./Sidebar-69e6d10e.js";const $={class:"text-xl mb-1"},C={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},B={class:"ml-1 mt-1"},W={class:"space-y-12"},j={class:"pb-12"},N={key:0,class:"grid gap-6 grid-cols-2 pb-10 border-b md:w-2/3"},U={class:"mt-6 flex items-center justify-end gap-x-6 md:w-2/3"},Z={type:"button",class:"text-sm leading-6 text-gray-900"},M=["disabled"],F={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},L={key:1},ae={__name:"Storage",props:{config:{type:Object,required:!0}},setup(g){const y=g,p=r=>{const e=y.config.find(a=>a.key===r);return e?e.value:""},i=r=>{if(p("aws")){const e=JSON.parse(p("aws"));if(e!==null&&typeof e=="object"&&!Array.isArray(e))return e[r]??null}return null},c=_(!1),t=k({storage_system:p("storage_system"),aws:{access_key:i("access_key")??void 0,secret_key:i("secret_key")??void 0,default_region:i("default_region")??void 0,bucket:i("bucket")??void 0}}),w=[{label:"Local File Storage",value:"local"},{label:"AWS S3 Bucket",value:"aws"}],b=async()=>{t.put("/admin/settings?type=storage",{preserveScroll:!0})};return(r,e)=>(m(),v(x,null,{default:S(()=>[o("div",null,[o("h2",$,d(r.$t("Storage settings")),1),o("p",C,[e[6]||(e[6]=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[o("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),o("span",B,d(r.$t("Configure your storage location")),1)])]),o("form",{onSubmit:e[5]||(e[5]=h(a=>b(),["prevent"]))},[o("div",W,[o("div",j,[o("div",{class:n(["grid gap-6 grid-cols-2 pb-10 md:w-2/3",s(t).storage_system==="aws"?"":"border-b"])},[l(A,{modelValue:s(t).storage_system,"onUpdate:modelValue":e[0]||(e[0]=a=>s(t).storage_system=a),name:r.$t("File system for storage"),type:"text",options:w,error:s(t).errors.storage_system,class:n("col-span-2")},null,8,["modelValue","name","error"])],2),s(t).storage_system==="aws"?(m(),f("div",N,[l(u,{modelValue:s(t).aws.access_key,"onUpdate:modelValue":e[1]||(e[1]=a=>s(t).aws.access_key=a),name:r.$t("S3 AWS access key"),type:"text",error:s(t).errors["aws.access_key"],class:n("col-span-1")},null,8,["modelValue","name","error"]),l(u,{modelValue:s(t).aws.secret_key,"onUpdate:modelValue":e[2]||(e[2]=a=>s(t).aws.secret_key=a),name:r.$t("S3 AWS secret access key"),type:"password",error:s(t).errors["aws.secret_key"],class:n("col-span-1")},null,8,["modelValue","name","error"]),l(u,{modelValue:s(t).aws.default_region,"onUpdate:modelValue":e[3]||(e[3]=a=>s(t).aws.default_region=a),name:r.$t("S3 AWS default region"),type:"text",error:s(t).errors["aws.default_region"],class:n("col-span-1")},null,8,["modelValue","name","error"]),l(u,{modelValue:s(t).aws.bucket,"onUpdate:modelValue":e[4]||(e[4]=a=>s(t).aws.bucket=a),name:r.$t("S3 AWS bucket"),type:"text",error:s(t).errors["aws.bucket"],class:n("col-span-1")},null,8,["modelValue","name","error"])])):V("",!0),o("div",U,[o("button",Z,d(r.$t("Cancel")),1),o("button",{class:n(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":c.value}]),disabled:c.value},[c.value?(m(),f("svg",F,e[7]||(e[7]=[o("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),o("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[o("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)]))):(m(),f("span",L,d(r.$t("Save")),1))],10,M)])])])],32)]),_:1}))}};export{ae as default};
