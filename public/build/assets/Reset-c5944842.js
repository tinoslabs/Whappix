import{r as R,T as $,q as A,R as B,c as n,a as s,e as p,f as y,u as a,t as c,k as w,g as M,b as x,n as g,o as i,l as v}from"./app-43851608.js";import{_ as b}from"./FormInput-4a309017.js";import{u as N,a as j}from"./ReCaptcha-55f58cbf.js";const T={class:"flex h-screen justify-center"},U={class:"flex justify-center"},S={class:"w-[20em] mt-40"},Z={class:"flex justify-center mb-5"},F=["src","alt"],L={key:1,class:"text-2xl mb-2"},P={class:"text-2xl text-center"},q={class:"text-center text-sm text-slate-500"},z={key:0,class:"text-sm bg-[green] text-white mb-2 py-2 px-1 text-center rounded"},D={key:1,class:"form-error text-[#b91c1c] text-xs"},E={class:"mt-6"},K={key:0,type:"submit",class:"rounded-md bg-primary px-3 py-3 text-sm text-white shadow-sm w-full"},G={key:1,type:"button",class:"rounded-md bg-primary px-3 py-3 text-sm text-white shadow-sm w-full flex justify-center"},H=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[s("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"}),s("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[s("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})])],-1),I=[H],W={__name:"Reset",props:["flash","config","companyConfig"],setup(k){const r=k,u=R(!1),o=$({password:null,password_confirmation:null,recaptcha_response:null}),l=t=>{const e=r.config.find(m=>m.key===t);return e?e.value:""},C=async()=>{if(u.value=!0,l("recaptcha_active")==="1"){const e=await V();o.recaptcha_response=e}const t=window.location.href;o.post(t,{preserveScroll:!0,onFinish:()=>{u.value=!1}})},V=()=>new Promise(t=>{grecaptcha.ready(()=>{grecaptcha.execute(l("recaptcha_site_key"),{action:"submit"}).then(e=>{t(e)})})});return A(()=>{l("recaptcha_active")==="1"&&N(l("recaptcha_site_key"))}),B(()=>{j(l("recaptcha_site_key"))}),(t,e)=>{var m,f,h,_;return i(),n("div",T,[s("div",U,[s("div",S,[s("div",Z,[p(a(v),{href:"/"},{default:y(()=>[r.companyConfig.logo?(i(),n("img",{key:0,class:"max-w-[180px]",src:"/media/"+r.companyConfig.logo,alt:r.companyConfig.company_name},null,8,F)):(i(),n("h4",L,c(r.companyConfig.company_name),1))]),_:1})]),s("h1",P,c(t.$t("Reset your password")),1),s("div",q,[w(c(t.$t("Remembered password?"))+" ",1),p(a(v),{href:"login",class:"text-sm text-primary-600 hover:underline dark:text-primary-500 border-b hover:border-none"},{default:y(()=>[w(c(t.$t("Login")),1)]),_:1})]),s("form",{onSubmit:e[2]||(e[2]=M(d=>C(),["prevent"])),class:"mt-5"},[(f=(m=r.flash)==null?void 0:m.status)!=null&&f.message?(i(),n("div",z,[s("span",null,c((_=(h=r.flash)==null?void 0:h.status)==null?void 0:_.message),1)])):x("",!0),p(b,{modelValue:a(o).password,"onUpdate:modelValue":e[0]||(e[0]=d=>a(o).password=d),name:t.$t("Password"),error:a(o).errors.password,type:"password",class:g("sm:col-span-6")},null,8,["modelValue","name","error"]),p(b,{modelValue:a(o).password_confirmation,"onUpdate:modelValue":e[1]||(e[1]=d=>a(o).password_confirmation=d),name:t.$t("Confirm password"),error:a(o).errors.password_confirmation,type:"password",class:g("sm:col-span-6 mt-5")},null,8,["modelValue","name","error"]),a(o).errors.recaptcha_response?(i(),n("div",D,c(a(o).errors.recaptcha_response),1)):x("",!0),s("div",E,[u.value?(i(),n("button",G,I)):(i(),n("button",K,c(t.$t("Reset password")),1))])],32)])])])}}};export{W as default};
