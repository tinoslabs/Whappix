import{D as U,r as R,m as b,N as k,W as te,q as K,G as J,I as W,F as X,R as ae,S as le,H as I,V as oe,o as B,c as N,a as A,t as M,e as C,f as j,u as _,n as F,Z as ie,d as ne,h as re,b as G}from"./app-43851608.js";import"./index-17cd980e.js";import{u as V,y as se,w as ue,a as de,o as x,c as ve,l as z,f as pe,K as ce,b as fe,H,T as be,t as $,d as me,p as xe,N as Z,O as ge,e as c}from"./ProfileModal-628e5b7c.js";import{x as ye,a as h,p as he,u as Oe}from"./use-text-value-242aa4d7.js";import{d as Se,e as we,r as ke,a as Re}from"./ChevronUpDownIcon-8859f144.js";function Le(t,m){return t===m}var Te=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Te||{}),Pe=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Pe||{}),Ve=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Ve||{});function De(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let Y=Symbol("ListboxContext");function q(t){let m=oe(Y,null);if(m===null){let u=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,q),u}return m}let Be=U({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Le},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:m,attrs:u,emit:L}){let e=R(1),d=R(null),f=R(null),v=R(null),p=R([]),a=R(""),l=R(null),O=R(1);function S(o=i=>i){let i=l.value!==null?p.value[l.value]:null,n=ge(o(p.value.slice()),y=>x(y.dataRef.domRef)),s=i?n.indexOf(i):null;return s===-1&&(s=null),{options:n,activeOptionIndex:s}}let w=b(()=>t.multiple?1:0),[T,D]=Se(b(()=>t.modelValue),o=>L("update:modelValue",o),b(()=>t.defaultValue)),P=b(()=>T.value===void 0?V(w.value,{1:[],0:void 0}):T.value),r={listboxState:e,value:P,mode:w,compare(o,i){if(typeof t.by=="string"){let n=t.by;return(o==null?void 0:o[n])===(i==null?void 0:i[n])}return t.by(o,i)},orientation:b(()=>t.horizontal?"horizontal":"vertical"),labelRef:d,buttonRef:f,optionsRef:v,disabled:b(()=>t.disabled),options:p,searchQuery:a,activeOptionIndex:l,activationTrigger:O,closeListbox(){t.disabled||e.value!==1&&(e.value=1,l.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(o,i,n){if(t.disabled||e.value===1)return;let s=S(),y=ye(o===h.Specific?{focus:h.Specific,id:i}:{focus:o},{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:E=>E.id,resolveDisabled:E=>E.dataRef.disabled});a.value="",l.value=y,O.value=n??1,p.value=s.options},search(o){if(t.disabled||e.value===1)return;let i=a.value!==""?0:1;a.value+=o.toLowerCase();let n=(l.value!==null?p.value.slice(l.value+i).concat(p.value.slice(0,l.value+i)):p.value).find(y=>y.dataRef.textValue.startsWith(a.value)&&!y.dataRef.disabled),s=n?p.value.indexOf(n):-1;s===-1||s===l.value||(l.value=s,O.value=1)},clearSearch(){t.disabled||e.value!==1&&a.value!==""&&(a.value="")},registerOption(o,i){let n=S(s=>[...s,{id:o,dataRef:i}]);p.value=n.options,l.value=n.activeOptionIndex},unregisterOption(o){let i=S(n=>{let s=n.findIndex(y=>y.id===o);return s!==-1&&n.splice(s,1),n});p.value=i.options,l.value=i.activeOptionIndex,O.value=1},theirOnChange(o){t.disabled||D(o)},select(o){t.disabled||D(V(w.value,{0:()=>o,1:()=>{let i=k(r.value.value).slice(),n=k(o),s=i.findIndex(y=>r.compare(n,k(y)));return s===-1?i.push(n):i.splice(s,1),i}}))}};se([f,v],(o,i)=>{var n;r.closeListbox(),ue(i,de.Loose)||(o.preventDefault(),(n=x(f))==null||n.focus())},b(()=>e.value===0)),te(Y,r),ve(b(()=>V(e.value,{0:z.Open,1:z.Closed})));let g=b(()=>{var o;return(o=x(f))==null?void 0:o.closest("form")});return K(()=>{J([g],()=>{if(!g.value||t.defaultValue===void 0)return;function o(){r.theirOnChange(t.defaultValue)}return g.value.addEventListener("reset",o),()=>{var i;(i=g.value)==null||i.removeEventListener("reset",o)}},{immediate:!0})}),()=>{let{name:o,modelValue:i,disabled:n,form:s,...y}=t,E={open:e.value===0,disabled:n,value:P.value};return W(X,[...o!=null&&P.value!=null?we({[o]:P.value}).map(([Q,ee])=>W(pe,ce({features:fe.Hidden,key:Q,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,name:Q,value:ee}))):[],H({ourProps:{},theirProps:{...u,...be(y,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:E,slots:m,attrs:u,name:"Listbox"})])}}}),Ie=U({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${$()}`}},setup(t,{attrs:m,slots:u,expose:L}){let e=q("ListboxButton");L({el:e.buttonRef,$el:e.buttonRef});function d(a){switch(a.key){case c.Space:case c.Enter:case c.ArrowDown:a.preventDefault(),e.openListbox(),I(()=>{var l;(l=x(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(h.First)});break;case c.ArrowUp:a.preventDefault(),e.openListbox(),I(()=>{var l;(l=x(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(h.Last)});break}}function f(a){switch(a.key){case c.Space:a.preventDefault();break}}function v(a){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),I(()=>{var l;return(l=x(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})})):(a.preventDefault(),e.openListbox(),De(()=>{var l;return(l=x(e.optionsRef))==null?void 0:l.focus({preventScroll:!0})})))}let p=me(b(()=>({as:t.as,type:m.type})),e.buttonRef);return()=>{var a,l;let O={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},{id:S,...w}=t,T={ref:e.buttonRef,id:S,type:p.value,"aria-haspopup":"listbox","aria-controls":(a=x(e.optionsRef))==null?void 0:a.id,"aria-expanded":e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(l=x(e.labelRef))==null?void 0:l.id,S].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:d,onKeyup:f,onClick:v};return H({ourProps:T,theirProps:w,slot:O,attrs:m,slots:u,name:"ListboxButton"})}}}),Ne=U({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${$()}`}},setup(t,{attrs:m,slots:u,expose:L}){let e=q("ListboxOptions"),d=R(null);L({el:e.optionsRef,$el:e.optionsRef});function f(a){switch(d.value&&clearTimeout(d.value),a.key){case c.Space:if(e.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),e.search(a.key);case c.Enter:if(a.preventDefault(),a.stopPropagation(),e.activeOptionIndex.value!==null){let l=e.options.value[e.activeOptionIndex.value];e.select(l.dataRef.value)}e.mode.value===0&&(e.closeListbox(),I(()=>{var l;return(l=x(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})}));break;case V(e.orientation.value,{vertical:c.ArrowDown,horizontal:c.ArrowRight}):return a.preventDefault(),a.stopPropagation(),e.goToOption(h.Next);case V(e.orientation.value,{vertical:c.ArrowUp,horizontal:c.ArrowLeft}):return a.preventDefault(),a.stopPropagation(),e.goToOption(h.Previous);case c.Home:case c.PageUp:return a.preventDefault(),a.stopPropagation(),e.goToOption(h.First);case c.End:case c.PageDown:return a.preventDefault(),a.stopPropagation(),e.goToOption(h.Last);case c.Escape:a.preventDefault(),a.stopPropagation(),e.closeListbox(),I(()=>{var l;return(l=x(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case c.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(e.search(a.key),d.value=setTimeout(()=>e.clearSearch(),350));break}}let v=xe(),p=b(()=>v!==null?(v.value&z.Open)===z.Open:e.listboxState.value===0);return()=>{var a,l,O,S;let w={open:e.listboxState.value===0},{id:T,...D}=t,P={"aria-activedescendant":e.activeOptionIndex.value===null||(a=e.options.value[e.activeOptionIndex.value])==null?void 0:a.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(S=(l=x(e.labelRef))==null?void 0:l.id)!=null?S:(O=x(e.buttonRef))==null?void 0:O.id,"aria-orientation":e.orientation.value,id:T,onKeydown:f,role:"listbox",tabIndex:0,ref:e.optionsRef};return H({ourProps:P,theirProps:D,slot:w,attrs:m,slots:u,features:Z.RenderStrategy|Z.Static,visible:p.value,name:"ListboxOptions"})}}}),Ae=U({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${$()}`}},setup(t,{slots:m,attrs:u,expose:L}){let e=q("ListboxOption"),d=R(null);L({el:d,$el:d});let f=b(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===t.id:!1),v=b(()=>V(e.mode.value,{0:()=>e.compare(k(e.value.value),k(t.value)),1:()=>k(e.value.value).some(r=>e.compare(k(r),k(t.value)))})),p=b(()=>V(e.mode.value,{1:()=>{var r;let g=k(e.value.value);return((r=e.options.value.find(o=>g.some(i=>e.compare(k(i),k(o.dataRef.value)))))==null?void 0:r.id)===t.id},0:()=>v.value})),a=he(d),l=b(()=>({disabled:t.disabled,value:t.value,get textValue(){return a()},domRef:d}));K(()=>e.registerOption(t.id,l)),ae(()=>e.unregisterOption(t.id)),K(()=>{J([e.listboxState,v],()=>{e.listboxState.value===0&&v.value&&V(e.mode.value,{1:()=>{p.value&&e.goToOption(h.Specific,t.id)},0:()=>{e.goToOption(h.Specific,t.id)}})},{immediate:!0})}),le(()=>{e.listboxState.value===0&&f.value&&e.activationTrigger.value!==0&&I(()=>{var r,g;return(g=(r=x(d))==null?void 0:r.scrollIntoView)==null?void 0:g.call(r,{block:"nearest"})})});function O(r){if(t.disabled)return r.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),I(()=>{var g;return(g=x(e.buttonRef))==null?void 0:g.focus({preventScroll:!0})}))}function S(){if(t.disabled)return e.goToOption(h.Nothing);e.goToOption(h.Specific,t.id)}let w=Oe();function T(r){w.update(r)}function D(r){w.wasMoved(r)&&(t.disabled||f.value||e.goToOption(h.Specific,t.id,0))}function P(r){w.wasMoved(r)&&(t.disabled||f.value&&e.goToOption(h.Nothing))}return()=>{let{disabled:r}=t,g={active:f.value,selected:v.value,disabled:r},{id:o,value:i,disabled:n,...s}=t,y={id:o,ref:d,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":v.value,disabled:void 0,onClick:O,onFocus:S,onPointerenter:T,onMouseenter:T,onPointermove:D,onMousemove:D,onPointerleave:P,onMouseleave:P};return H({ourProps:y,theirProps:s,slot:g,attrs:u,slots:m,name:"ListboxOption"})}}});const Ce={for:"name",class:"block text-sm leading-6 text-gray-900"},_e={class:""},Ee={class:"relative"},Me={key:0,class:"block truncate"},je={key:1,class:"text-gray-500"},Fe={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},ze={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},Ue={key:0,class:"form-error text-[#b91c1c] text-xs"},We={__name:"FormSelect",props:{options:Array,modelValue:[String,Number,Array],name:String,className:String,optionClassName:String,placeholder:{type:String,default:"Select option"},multiple:Boolean,required:Boolean,error:String},emits:["update:modelValue"],setup(t,{emit:m}){const u=t,L=m,e=b(()=>u.options.filter(d=>Array.isArray(u.modelValue)?u.modelValue.includes(d.value):u.modelValue===d.value).map(d=>d.label).join(", "));return(d,f)=>(B(),N("div",{class:F(t.className)},[A("label",Ce,M(t.name),1),A("div",_e,[C(_(Be),{multiple:u.multiple,"onUpdate:modelValue":f[0]||(f[0]=v=>L("update:modelValue",v)),"model-value":u.modelValue},{default:j(()=>[A("div",Ee,[C(_(Ie),{class:F(["relative w-full cursor-default rounded-lg bg-white py-2 px-5 pr-10 shadow-sm text-left ring-1 ring-inset focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm",t.error?"ring-[#b91c1c]":"ring-gray-300"])},{default:j(()=>[e.value?(B(),N("span",Me,M(e.value),1)):(B(),N("span",je,M(u.placeholder),1)),A("span",Fe,[C(_(ke),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1},8,["class"]),C(ie,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:j(()=>[C(_(Ne),{class:F(["z-10 absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",t.optionClassName])},{default:j(()=>[(B(!0),N(X,null,ne(u.options,v=>(B(),re(_(Ae),{key:v.label,value:v.value,as:"template"},{default:j(({active:p,selected:a})=>[A("li",{class:F([p?"bg-amber-100 text-amber-900":"text-gray-900","relative cursor-default select-none py-2 pl-10 pr-4"])},[A("span",{class:F([a?"font-medium":"font-normal","block truncate"])},M(v.label),3),a?(B(),N("span",ze,[C(_(Re),{class:"h-5 w-5","aria-hidden":"true"})])):G("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1},8,["class"])]),_:1})])]),_:1},8,["multiple","model-value"])]),t.error?(B(),N("div",Ue,M(t.error),1)):G("",!0)],2))}};export{We as _};
